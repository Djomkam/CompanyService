<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Company Services</title>
		<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
		<script>
		    // Defining angularjs application.
		    var postApp = angular.module('postApp', []);
		    // Controller function and passing $http service and $scope var.
		    postApp.controller('postController', function($scope, $http) {
		      // create a blank object to handle form data.
		        $scope.company = {};
		      // calling our submit function.
		        $scope.createCompany = function() {
		        // Posting data to php file
		        $http({
		          method  : 'POST',
		          url     : '/company/new',
		          data    : $scope.company, //forms user object
		          headers : {'Content-Type': 'application/x-www-form-urlencoded'} 
		         })
		          .success(function(data) {
		            if (data.errors) {
		              // Showing errors.
		              /*$scope.errorName = data.errors.name;
		              $scope.errorUserName = data.errors.username;
		              $scope.errorEmail = data.errors.email;*/
		            } else {
		              $scope.message = data.message;
		            }
		          });
		        };
		    });
		</script>
	</head>
	<body>
		<div class="wrapper">
			<div class="header">
				<ul class="main-menu">
					<li><a href="">Add Company</a></li>
					<li><a href="">List Companies</a></li>
				</ul>
			</div>
			<div class="content">
				<h2>Add a Company</h2>
				<span id="error"></span>
				<div ng-app="postApp" ng-controller="postController" class="companyForm">
					<form ng-submit="createCompany()">
						<table>
							<tr>
								<td>Name:</td>
								<td><input type="text" name="name"  ng-model="company.name" class="theField" placeholder="Enter Company Name" /></td>
							</tr>
							<tr>
								<td>Phone:</td>
								<td><input type="text" name="phone" ng-model="company.phone" class="theField" placeholder="Enter Company Phone Number" /></td>
							</tr>
							<tr>
								<td>Email:</td>
								<td><input type="text" name="email" ng-model="company.email" class="theField" placeholder="Enter Company Email" /></td>
							</tr>
							<tr>
								<td>Street:</td>
								<td><input type="text" name="street"  ng-model="company.street" class="theField" placeholder="Enter Street" /></td>
							</tr>
							<tr>
								<td>City:</td>
								<td><input type="text" name="city" ng-model="company.city" class="theField" placeholder="Enter City" /></td>
							</tr>
							<tr>
								<td>State:</td>
								<td><input type="text" name="State" ng-model="company.state" class="theField" placeholder="Enter State" /></td>
							</tr>
							<tr>
								<td>Country:</td>
								<td><input type="text" name="country" ng-model="company.country" class="theField" placeholder="Enter Country" /></td>
							</tr>
							<tr>
								<td>Zip:</td>
								<td><input type="text" name="zip" ng-model="company.zip" class="theField" placeholder="Enter zip" /></td>
							</tr>
							<tr>
								<td>&nbsp;</td>
								<td><input type="submit" name="submit" class="theButton" value="Add Company" /></td>
							</tr>
						</table>
					</form>
				</div>
				<div id="result">
					
				</div>
			</div>
			<div class="footer">
			
			</div>
		</div>
	</body>
</html>